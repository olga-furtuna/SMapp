{"ast":null,"code":"import _slicedToArray from \"D:\\\\internship\\\\social-media-app\\\\SMapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport { AuthStorage } from \"./authStorage\";\nexport var registerUserService = function registerUserService(request) {\n  var REGISTER_API_ENDPOINT = \"https://postify-api.herokuapp.com/auth\";\n  var parameters = {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(request.user)\n  };\n  return fetch(REGISTER_API_ENDPOINT, parameters).then(function (response) {\n    return response.json();\n  }).then(function (json) {\n    return json;\n  });\n};\nexport var loginUserService = function loginUserService(request) {\n  var LOGIN_API_ENDPOINT = \"https://postify-api.herokuapp.com/auth/sign_in\";\n  var parameters = {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(request.user)\n  };\n  return fetch(LOGIN_API_ENDPOINT, parameters) // .then(response => {\n  //   return {\n  //     result: response.json(),\n  //     headers: response.headers\n  //   };\n  // })\n  .then(function (response) {\n    return Promise.all([response.json(), response.headers]);\n  }).then(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        responseJson = _ref2[0],\n        headers = _ref2[1];\n\n    return {\n      result: responseJson,\n      headers: headers\n    };\n  }).then(function (json) {\n    return json;\n  });\n};\nexport var userProfileService = function userProfileService(request) {\n  var USER_PROFILE_API_ENDPOINT = \"https://postify-api.herokuapp.com/users/me\";\n  var parameters = {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n  return fetch(USER_PROFILE_API_ENDPOINT + buildQueryString(AuthStorage.getData()), parameters).then(function (response) {\n    return {\n      result: response.json()\n    };\n  }).then(function (json) {\n    return json.result;\n  }).then(function (result) {\n    return result;\n  });\n};\nexport var fetchPostsService = function fetchPostsService(request) {\n  var FETCH_POSTS_API_ENDPOINT = \"https://postify-api.herokuapp.com/posts\";\n  var parameters = {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n  return fetch(FETCH_POSTS_API_ENDPOINT + buildQueryString(AuthStorage.getData()), parameters).then(function (response) {\n    return {\n      result: response.json()\n    };\n  }).then(function (json) {\n    return json.result;\n  }).then(function (result) {\n    return result;\n  });\n};\n\nvar buildQueryString = function buildQueryString(authData) {\n  return \"?access-token=\".concat(authData.access_token, \"&client=\").concat(authData.client, \"&uid=\").concat(authData.uid);\n};","map":{"version":3,"sources":["D:/internship/social-media-app/SMapp/src/services/apiService.js"],"names":["AuthStorage","registerUserService","request","REGISTER_API_ENDPOINT","parameters","method","headers","body","JSON","stringify","user","fetch","then","response","json","loginUserService","LOGIN_API_ENDPOINT","Promise","all","responseJson","result","userProfileService","USER_PROFILE_API_ENDPOINT","buildQueryString","getData","fetchPostsService","FETCH_POSTS_API_ENDPOINT","authData","access_token","client","uid"],"mappings":"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","sourcesContent":["import { AuthStorage } from \"./authStorage\";\n\nexport const registerUserService = (request) => {\n  const REGISTER_API_ENDPOINT = \"https://postify-api.herokuapp.com/auth\";\n\n  const parameters = {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(request.user),\n  };\n\n  return fetch(REGISTER_API_ENDPOINT, parameters)\n    .then((response) => {\n      return response.json();\n    })\n    .then((json) => {\n      return json;\n    });\n};\n\nexport const loginUserService = (request) => {\n  const LOGIN_API_ENDPOINT = \"https://postify-api.herokuapp.com/auth/sign_in\";\n\n  const parameters = {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(request.user),\n  };\n\n  return (\n    fetch(LOGIN_API_ENDPOINT, parameters)\n      // .then(response => {\n      //   return {\n      //     result: response.json(),\n      //     headers: response.headers\n      //   };\n      // })\n      .then((response) => {\n        return Promise.all([response.json(), response.headers]);\n      })\n      .then(([responseJson, headers]) => {\n        return {\n          result: responseJson,\n          headers: headers,\n        };\n      })\n      .then((json) => {\n        return json;\n      })\n  );\n};\n\nexport const userProfileService = (request) => {\n  const USER_PROFILE_API_ENDPOINT =\n    \"https://postify-api.herokuapp.com/users/me\";\n\n  const parameters = {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  };\n\n  return fetch(\n    USER_PROFILE_API_ENDPOINT + buildQueryString(AuthStorage.getData()),\n    parameters\n  )\n    .then((response) => {\n      return {\n        result: response.json(),\n      };\n    })\n    .then((json) => {\n      return json.result;\n    })\n    .then((result) => result);\n};\n\nexport const fetchPostsService = (request) => {\n  const FETCH_POSTS_API_ENDPOINT = \"https://postify-api.herokuapp.com/posts\";\n\n  const parameters = {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  };\n\n  return fetch(\n    FETCH_POSTS_API_ENDPOINT + buildQueryString(AuthStorage.getData()),\n    parameters\n  )\n    .then((response) => {\n      return {\n        result: response.json(),\n      };\n    })\n    .then((json) => {\n      return json.result;\n    })\n    .then((result) => result);\n};\n\nconst buildQueryString = (authData) => {\n  return `?access-token=${authData.access_token}&client=${authData.client}&uid=${authData.uid}`;\n};\n"]},"metadata":{},"sourceType":"module"}